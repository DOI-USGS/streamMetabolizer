% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calc_solar_insolation.R
\name{calc_solar_insolation}
\alias{calc_solar_insolation}
\title{Model solar insolation on a horizontal surface (W/m2 == J/s/m2) as in 
http://education.gsfc.nasa.gov/experimental/July61999siteupdate/inv99Project.Site/Pages/solar.insolation.html}
\usage{
calc_solar_insolation(app.solar.time, latitude,
  max.insolation = convert_PAR_to_SW(2326), format = c("degrees",
  "radians"), attach.units = is.unitted(app.solar.time))
}
\arguments{
\item{app.solar.time}{POSIXct vector of date-time values in apparent solar time,
e.g., as returned by \code{convert_UTC_to_solartime(...,
time.type="apparent solar")}}

\item{latitude}{numeric value or vector indicating the site latitude in 
decimal degrees (never radians or deg-min-sec, no matter what \code{format}
is) between -90 (South Pole) and 90 (North Pole).}

\item{max.insolation}{insolation rate at solar noon, W/m2 == J/s/m2. varies
greatly with atmospheric conditions}

\item{format}{The format of both the input and the output. May be "degrees" 
or "radians".}

\item{attach.units}{logical. Should the returned vector be a unitted object?}
}
\description{
Model solar insolation on a horizontal surface (W/m2 == J/s/m2) as in 
http://education.gsfc.nasa.gov/experimental/July61999siteupdate/inv99Project.Site/Pages/solar.insolation.html
}
\examples{
insdf <- data.frame(
  lat=rep(c(0,20,40,60), each=24*4),
  jday=rep(rep(c(1,101,201,301), each=24), times=4), 
  hour=rep(c(0:12,13.5:23.5), times=4*4))
insdf <- transform(insdf, datetime=convert_doyhr_to_date(jday + hour/24, year=2004))
insdf <- transform(insdf, ins=calc_solar_insolation(datetime, lat))
\dontrun{
library(ggplot2)
ggplot(insdf, aes(color=factor(jday), y=ins, x=hour)) + 
  geom_line() + facet_wrap(~lat) + 
  ggtitle('solar insolation by latitude (panels) and day of year (colors)')
}
}

